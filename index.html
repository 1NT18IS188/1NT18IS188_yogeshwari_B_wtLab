<!-- Title:working with json object -->
<!-- Description:The button allows you to fetch data from 
    an API and printed onto the website using 
    a for each loop, printing certain data members 
    of the array of objects  -->
<!-- Author:Yogeshwari A-->
<!-- Date:29-04-2021 -->


    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link rel="stylesheet" href="fetchapi.css" />
        <title>FetchAPI</title>
      </head>
      <body>
        <div>
          <button id="btn">Output</button>
          <h1>The Weather Report:</h1>
          <span id="output"> </span>
        </div>
      </body>
    
      <script type="text/javascript" >
      const btn = document.getElementById("btn");
var str = "";
const fetchJSON = () => {
  fetch(
    "https://www.7timer.info/bin/astro.php?lon=113.2&lat=23.1&ac=0&unit=metric&output=json&tzshift=0"
  )
    .then((result) => result.json())
    .then((parsedjson) => {
      console.log(parsedjson);
      parsedjson.dataseries.forEach((ele) => {
        str += ` <h4> Cloud Cover: ${ele.cloudcover} ;  Time Point: ${ele.timepoint}</h4> `;
        document.getElementById("output").innerHTML = str;
      });
    })
    .catch((e) => console.log(e));
};

btn.addEventListener("click", fetchJSON);

    </script>
    </html>
    